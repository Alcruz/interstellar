\section{FD schemes for Company transformation}
\subsection{Explicit scheme}
The explicit scheme is given by
\begin{equation*}
    \begin{split}
      \dfrac{v^{n+1}_{i} - v^{n}_{i}}{\Delta{t}} & - \dfrac{1}{2}\sigma^2 \dfrac{v^{n}_{i-1} - 2v^{n}_{i} + v^{n}_{i+1}}{(\Delta{x})^2} \\ 
       & - \bigg( (r-\delta) - \dfrac{\sigma^2}{2} - \dfrac{\bar{S}^{n+1}_{f} - \bar{S}^{n}_{f}}{\Delta{t}\bar{S}^{n}_{f}} \bigg)\dfrac{v^{n}_{i+1} - v^{n}_{i-1}}{2\Delta{x}} + rv^{n}_{i} = 0
    \end{split}
\end{equation*}
for $i=1\dots,M$ and $n = 0,\dots,N$. 
\begin{equation*}
    \begin{split}
        v^{n+1}_{i} = av^{n}_{i-1} + bv^{n}_{i} + cv^{n}_{i+1} + \dfrac{\bar{S}^{n+1}_{f} - \bar{S}^{n}_{f}}{2\Delta{x}\bar{S}^{n}_{f}}(v^{n}_{i+1} - v^{n}_{i-1})
    \end{split}
\end{equation*}
where 
\begin{equation*}
    \begin{split}
        \lambda =& \dfrac{\Delta{t}}{\Delta{x}^2}\\
        a =& \dfrac{\lambda}{2}\bigg( \sigma^2 - \bigg(r - \delta - \dfrac{\sigma^2}{2}\bigg)\Delta{x} \bigg) \\
        b =& 1 - \sigma^2\lambda- r\Delta{t} \\
        c =& \dfrac{\lambda}{2}\bigg(\sigma^2 + \bigg(r - \delta - \dfrac{\sigma^2}{2}\bigg)\Delta{x}\bigg)
    \end{split}
\end{equation*}
Moreover, the boundary conditions 
\begin{equation*}
    \begin{split}
        \text{\textbf{Call:}} \qquad & v^{n}_{0} = 0, \quad v^{n}_{M+1} = \bar{S}^{n}_{f} - 1 \\
        \text{\textbf{Put:}} \qquad & v^{n}_{0} = 1 - \bar{S}^{n}_{f}, \quad v^{n}_{M+1} = 0 \\
    \end{split}
\end{equation*}
for $n=0,\dots,N$. Moreover, the contact point condition is approximated using central finite difference
\begin{align*}
    \text{\textbf{Call:}} \qquad & \dfrac{v^{n}_{M+2} - v^{n}_{M}}{2\Delta{x}^2} = \dfrac{\partial{v}}{\partial{x}}(0, t) + O(\Delta{x}^2) \\
    \text{\textbf{Put:}} \qquad & \dfrac{v^{n}_{1} - v^{n}_{-1}}{2\Delta{x}} = \dfrac{\partial{v}}{\partial{x}}(0, t)+ O(\Delta{x}^2) 
\end{align*}

for $n=0,\dots,N$. Moreover, the contact point condition is approximated using central finite difference
\begin{align*}
    \text{\textbf{Call:}} \qquad & \dfrac{v^{n}_{M+2} - v^{n}_{M}}{2\Delta{x}^2} = \bar{S}^{n}_{f} \\
    \text{\textbf{Put:}} \qquad & \dfrac{v^{n}_{1} - v^{n}_{-1}}{2\Delta{x}}  = -\bar{S}^{n}_{f}  
\end{align*}

By combining the central difference approximation for the PDE, the boundary conditions and the contact point, it is obtained 

\begin{align*}
    \text{\textbf{Call:}} \qquad & v^{n}_{M} =  \\
    \text{\textbf{Put:}} \qquad & v^{n}_{1} = \alpha - \beta\bar{S}^{n}_{f}  
\end{align*}

\begin{algorithm}[H]
    \caption{Explicit method for put options}\label{alg:appendix:companytransformation:explicits:put_explicit_method_algorithm}
    \begin{algorithmic}
    \For{$i = 0,\dots,M+1$} 
      \State $v^{0}_i = 0 $
    \EndFor
    \State $\bar{S}_{f}^{0} = K$

    \State $a = \dfrac{\lambda}{2}\bigg(\sigma^2 - \bigg(r - \delta - \dfrac{\sigma^2}{2}\bigg)\Delta{x}\bigg)$
    \State $b = 1 - \sigma^2\lambda- r\Delta{t} $
    \State $c = \dfrac{\lambda}{2}\bigg(\sigma^2 + \bigg(r - \delta - \dfrac{\sigma^2}{2}\bigg)\Delta{x}\bigg)$
    \State $\alpha = 1 + \dfrac{r\Delta{x}^2}{\sigma^2}$
    \State $\beta = 1 + \Delta{x} + \dfrac{1}{2}\Delta{x}^2$

    \For{$n = 0, \dots, N$}
      \State $d^n = \dfrac{\alpha - (av^{n}_{0} + bv^{0}_{1} + cv^{n}_{2} - (v^{n}_{2} - v^{n}_{0})/(2\Delta{x}))}{(v^{n}_{2} - v^{n}_{0})/(2\Delta{x}) + \beta\bar{S}^{n}_f}$
      \State $\bar{S}^{n+1}_{f}=d^{n}\bar{S}^{n}_{f}$
      \State $a^{n} = a - \dfrac{\bar{S}^{n+1}_{f} - \bar{S}^{n}_{f}}{2\Delta{x}\bar{S}^{n}_{f}}$
      \State $c^{n} = c - \dfrac{\bar{S}^{n+1} - \bar{S}^{n}}{2\Delta{x}\bar{S}^{n}_{f}}$

      \State $v^{n+1}_{0}=1 - \bar{S}^{n+1}_{f}$
      \State $v^{n+1}_{1}=\alpha - \beta\bar{S}^{n+1}_{f}$
      \State $v^{n+1}_{M+1} = 0$
      \For{$i = 2, \dots, M$}
        \State $v^{n+1}_{i} = a^{n} v^{n}_{i-1} + b v^{n}_{i} + c^{n}v^{n}_{i+1}$
      \EndFor
    \EndFor
  \end{algorithmic}
  \end{algorithm}

\subsection{Implicit Scheme}